(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(190),r=n(48),c=n(185),i=n(188),o=n(189),s=n(187),d=n(184),j=n(186),l=n(51),u=n(194),b=n(180),p=n(172),O=n(176),h=n(177),x=n(179),f=n(178),m=n(85),v=n.n(m),y=n(84),g=n.n(y),w=n(192),k=n(30),C=Object(k.b)({name:"cities",initialState:["London","Warszawa"],reducers:{addCity:function(e,t){e.push(t.payload.name)},removeCity:function(e,t){return e.filter((function(e){return e!==t.payload.name}))}}}),S=C.actions,z=S.addCity,N=S.removeCity,D=function(e){return e.cities},I=C.reducer,W=n(0),E=n.n(W),T=n(20),B=n(6);var L=function(e){var t=e.handleListItemClick,n=e.selectedCity,a=Object(T.c)(D),r=Object(T.b)();return Object(B.jsx)(p.a,{children:a.length>0?a.map((function(e){return Object(B.jsxs)(O.a,{button:!0,selected:n===e,onClick:function(){return t(e)},children:[Object(B.jsx)(h.a,{children:Object(B.jsx)(u.a,{children:Object(B.jsx)(g.a,{})})}),Object(B.jsx)(f.a,{primary:e}),Object(B.jsx)(x.a,{children:Object(B.jsx)(b.a,{edge:"end",onClick:function(){return function(e){e===n&&t(null),r(N({name:e}))}(e)},children:Object(B.jsx)(v.a,{})})})]},e)})):Object(B.jsx)(w.a,{severity:"info",children:"Pusta lista dodaj nowe miasta"})})},M=n(182),P=n(181),J=n(191);var R=function(){var e=Object(T.c)(D),t=Object(T.b)(),n=Object(W.useState)(""),a=Object(r.a)(n,2),c=a[0],i=a[1],o=Object(W.useRef)(null);return Object(B.jsxs)(P.a,{container:!0,spacing:1,children:[Object(B.jsx)(P.a,{item:!0,xs:12,sm:9,children:Object(B.jsx)(J.a,{error:!!c,fullWidth:!0,id:"standard-error-helper-text",label:"Miasto",defaultValue:"",helperText:c||"",variant:"outlined",inputRef:o})}),Object(B.jsx)(P.a,{item:!0,xs:12,sm:3,children:Object(B.jsx)(M.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){var n,a=null===o||void 0===o||null===(n=o.current)||void 0===n?void 0:n.value;a&&(e.includes(a)?i("to miasto juz jest na liscie"):(t(z({name:a})),i("")))},children:"Dodaj miasto"})})]})},Y=n(183),q=Object(k.b)({name:"weatherInfo",initialState:{description:"",icon:"",id:0,main:"",error:""},reducers:{fetchData:function(e,t){var n=t.payload,a=n.description,r=n.icon,c=n.id,i=n.main;e.description=a,e.icon=r,e.id=c,e.main=i,e.error=""},resetData:function(e){e.description="",e.icon="",e.id=0,e.main="",e.error=""},setError:function(e,t){e.error=t.payload}}}),A=q.actions,F=A.fetchData,V=A.resetData,Z=A.setError,_=function(e){return e.weatherInfo},G=q.reducer,H=n(24),K=n.n(H),Q=n(86),U=n(87),X=n.n(U),$=(n(131),n(21)),ee=K.a.mark(oe),te=K.a.mark(se),ne=K.a.mark(de),ae="SYNC",re="STOP_SYNC";function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(t,"&appid=").concat("b4b60f8bf74037df60a072154bb5f161"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){var t;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,Object($.a)((function(){return ce(e)}));case 4:return t=n.sent,n.next=7,Object($.f)(F(t.data.weather[0]));case 7:return n.next=9,Object($.d)(1e4);case 9:n.next=1;break;case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object($.f)(Z((null===n.t0||void 0===n.t0?void 0:n.t0.message)||"city not found"));case 17:return n.prev=17,n.next=20,Object($.c)();case 20:if(!n.sent){n.next=23;break}return n.next=23,Object($.f)(V());case 23:return n.finish(17);case 24:case"end":return n.stop()}}),ee,null,[[0,13,17,24]])}function se(e){var t,n;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object($.e)(oe,t.name);case 3:return n=a.sent,a.next=6,Object($.g)(re);case 6:return a.next=8,Object($.b)(n);case 8:case"end":return a.stop()}}),te)}function de(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.h)(ae,se);case 2:case"end":return e.stop()}}),ne)}var je=function(e){var t=e.name,n=Object(T.b)(),a=Object(T.c)(_);return Object(W.useEffect)((function(){n({type:re}),t&&n({type:ae,payload:{name:t}})}),[t,n]),t?(null===a||void 0===a?void 0:a.error)?Object(B.jsx)(w.a,{severity:"error",children:"Brak informacji o pogodzie dla danego maista"}):(null===a||void 0===a?void 0:a.icon)||(null===a||void 0===a?void 0:a.main)||(null===a||void 0===a?void 0:a.description)?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(l.a,{color:"textSecondary",gutterBottom:!0,children:["Pogoda dla ",t]}),Object(B.jsx)(l.a,{variant:"h5",component:"h2"}),Object(B.jsx)(l.a,{color:"textSecondary",children:(null===a||void 0===a?void 0:a.icon)&&Object(B.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(null===a||void 0===a?void 0:a.icon,"@2x.png"),alt:"pogoda"})}),Object(B.jsxs)(l.a,{variant:"body2",component:"p",children:[Object(B.jsx)("strong",{children:"Description: "}),null===a||void 0===a?void 0:a.description]}),Object(B.jsxs)(l.a,{variant:"body2",component:"p",children:[Object(B.jsx)("strong",{children:"Main: "}),null===a||void 0===a?void 0:a.main]})]}):Object(B.jsx)(Y.a,{color:"secondary"}):Object(B.jsx)(w.a,{severity:"info",children:"Zaznacz miasto aby zobaczy\u0107 pogode"})},le=Object(d.a)((function(e){return{container:{marginTop:e.spacing(1)},card:{marginTop:e.spacing(2)}}}));var ue=function(){var e=le(),t=E.a.useState(null),n=Object(r.a)(t,2),a=n[0],d=n[1];return Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)(c.a,{position:"relative",children:Object(B.jsx)(j.a,{children:Object(B.jsx)(l.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Weather app"})})}),Object(B.jsxs)(s.a,{maxWidth:"sm",className:e.container,children:[Object(B.jsx)(i.a,{className:e.card,children:Object(B.jsx)(o.a,{children:Object(B.jsx)(je,{name:a})})}),Object(B.jsx)(i.a,{className:e.card,children:Object(B.jsx)(o.a,{children:Object(B.jsx)(R,{})})}),Object(B.jsx)(i.a,{className:e.card,children:Object(B.jsx)(o.a,{children:Object(B.jsx)(L,{handleListItemClick:function(e){d((function(t){return t!==e?e:null}))},selectedCity:a})})})]})]})},be=n(88),pe=n(89),Oe=Object(pe.a)(),he=[].concat(Object(be.a)(Object(k.c)({thunk:!1})),[Oe]),xe=Object(k.a)({reducer:{cities:I,weatherInfo:G},middleware:he});Oe.run(de);var fe=n(12);n.n(fe).a.render(Object(B.jsx)(E.a.StrictMode,{children:Object(B.jsxs)(T.a,{store:xe,children:[Object(B.jsx)(a.a,{}),Object(B.jsx)(ue,{})]})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.4603c4a8.chunk.js.map